- 비기능 요구사항 정의
    - 성능
        - 각 인스턴스는 CCU 120K 를 목표로 한다.
        - 기준 시간: 0.4초
        - 시스템은 0.4초 이내에 사용자 요청에 응답한다.
        - 선착순 시스템은 최대 0.6초 이상이 걸릴 수 있다.
            - UX 로 응답이 걸릴 경우가 있음을 명시.
            - 진행을 나타내는 progress icon 을 넣어 유저가 시스템 이상을 생각하지 않도록한다.
    - 보안
        - 모든 통신은 암호화 된다.
        - JWT 를 이용하여 인증/인가를 수행한다.
            - access token 의 expiry 는 1시간
            - refresh token 은 사용 후에 invalidate 후 rotation (renew) 시킨다.
                - 여기서의 사용은 access token 이 expire 되어 refresh 하는 경우.
            - 서버단에서 개입하여 stateless 성격이 벗어나는 일이 없도록 최대한 UX 로 재로그인을 풀어간다.
    - 확장성
        - Machine Resource Usage 측정값 기반으로 정하는 것이 아닌 round-robin 방식으로 load balancing 한다.
        - 리소스를 동적으로 확장/축소할 수 있도록 Auto-Scaling 을 고려한다.
        - 다중 인스턴스 환경에서 각 인스턴스가 다른 인스턴스에 영향을 주지 않도록 stateless 로 구현한다.
        - 적절한 캐시전략을 적용하여 자주 조회되는 데이터를 read-cache 로 두고, 캐시 만료 정책을 설정한다.
        - stateful 한 상황이 필요한 경우 인스턴스들에게 전부 공유된 memory cache 를 이용하여 제한적이고 최대한 짧게 사용한다.
    - 신뢰성
        - 각 database 는 이중화로 장애상황을 대비하며, 하루에 1번있을 스냅샷 백업에 지연이 없도록한다.
        - HA 설계 99.99%, 실제 99.9%
            - 클러스터링과 장애 대응 전략을 설정한다.
            - 99% - 3d15h/y
            - 99.9% - 8h46h/y
            - 99.95% - 4h23m/y
            - 99.99% - 52m34s/y
            - 99.999% - 5m15s/y
    - 관측성
        - 로그는 시스템의 병목이 일어나지 않도록 비동기로 설계.
        - 정합성이 최우선은 아니기 때문에 따로 object DB 에 적재한다.
